<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Dashboard â€“ Gaming of Republic</title>

    <link rel="stylesheet" href="assets/css/theme.css">
    <link rel="stylesheet" href="assets/css/layout.css">
    <link rel="stylesheet" href="assets/css/components.css">
    <link rel="stylesheet" href="assets/css/animations.css">
</head>

<body data-page="dashboard" onload="requireRole('admin'); initPage(); loadKPI();">

    <!-- HOLOGRAFISCHER BACKGROUND (wie Produktverwaltung) -->
    <div id="dash-grid"></div>
    <div id="dash-scanlines"></div>
    <div id="dash-noise"></div>

    <!-- SIDEBAR -->
    <div class="sidebar">
        <a class="nav-item active" href="dashboard.html"><span class="sidebar-icon">ğŸ“Š</span> Dashboard</a>
        <a class="nav-item" href="product-edit.html"><span class="sidebar-icon">ğŸ›’</span> Produkte</a>
        <a class="nav-item" href="audit-log.html"><span class="sidebar-icon">ğŸ“œ</span> Audit Log</a>
        <a class="nav-item" href="settings.html"><span class="sidebar-icon">âš™ï¸</span> Einstellungen</a>
        <a class="nav-item" onclick="logout()"><span class="sidebar-icon">ğŸšª</span> Abmelden</a>
    </div>

    <!-- MAIN CONTENT -->
    <div class="dashboard-content fade-in">

        <!-- HEADER (wie Produktverwaltung) -->
        <div class="page-header">
            <h1>Dashboard</h1>

            <div class="header-user" onclick="toggleUserDropdown()">
                <div class="header-avatar">A</div>

                <div class="header-dropdown" id="user-dropdown">
                    <a href="settings.html">Profil & Einstellungen</a>
                    <a href="audit-log.html">Audit Log</a>
                    <a onclick="logout()">Abmelden</a>
                </div>
            </div>
        </div>

        <!-- KPI GRID (GOR Produkteditor Style) -->
        <div class="kpi-grid">

            <div class="kpi-card">
                <h3>Gesamtprodukte</h3>
                <div class="kpi-value" id="kpi-products">â€“</div>
            </div>

            <div class="kpi-card">
                <h3>Benutzer</h3>
                <div class="kpi-value" id="kpi-users">â€“</div>
            </div>

            <div class="kpi-card">
                <h3>Auditâ€‘EintrÃ¤ge</h3>
                <div class="kpi-value" id="kpi-audit">â€“</div>
            </div>

        </div>

        <!-- MODULE GRID (angepasst an Produktverwaltung Cards) -->
        <div class="module-grid mt-20">

            <div class="card module-card">
                <h3>Produktverwaltung</h3>
                <p>Produkte erstellen, bearbeiten und verwalten.</p>
                <button class="primary mt-10" onclick="window.location.href='product-edit.html'">
                    Produkteditor Ã¶ffnen
                </button>
            </div>

            <div class="card module-card">
                <h3>Systemeinstellungen</h3>
                <p>Benutzerrollen, Konten und Systemparameter verwalten.</p>
                <button class="primary mt-10" onclick="window.location.href='settings.html'">
                    Einstellungen Ã¶ffnen
                </button>
            </div>

            <div class="card module-card">
                <h3>Auditâ€‘Protokolle</h3>
                <p>SystemaktivitÃ¤ten einsehen, filtern und exportieren.</p>
                <button class="primary mt-10" onclick="window.location.href='audit-log.html'">
                    Audit Log Ã¶ffnen
                </button>
            </div>

        </div>

    </div>

    <script src="assets/js/state.js"></script>
    <script src="assets/js/auth.js"></script>
    <script src="assets/js/kpi.js"></script>

    <script>
        // Parallax fÃ¼r Header (beibehalten)
        document.addEventListener("mousemove", e => {
            const x = (e.clientX / window.innerWidth - 0.5) * 10;
            const y = (e.clientY / window.innerHeight - 0.5) * 10;

            const header = document.querySelector(".page-header");
            header.style.setProperty("--px", x + "px");
            header.style.setProperty("--py", y + "px");
            header.classList.add("parallax");
        });
    </script>

</body>
</html>
